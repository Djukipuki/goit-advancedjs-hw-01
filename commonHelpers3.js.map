{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\nconst form = document.querySelector('.feedback-form');\n\nconst feedbackFormStateKey = 'feedback-form-state';\n\nconst defaultFormData = {\n  email: '',\n  message: '',\n};\n\nconst formData = {\n  ...defaultFormData,\n  ...JSON.parse(localStorage.getItem(feedbackFormStateKey)),\n};\n\nform.elements.email.value = formData.email;\nform.elements.message.value = formData.message;\n\nconst onFormUpdated = ({ target }) => {\n  formData[target.name] = target.value;\n\n  localStorage.setItem(feedbackFormStateKey, JSON.stringify(formData));\n}\n\nconst onSubmit = event => {\n  event.preventDefault();\n\n  console.log(formData);\n\n  localStorage.removeItem(feedbackFormStateKey);\n  form.reset();\n}\n\nform.addEventListener('input', throttle(onFormUpdated, 500));\nform.addEventListener('submit', onSubmit);\n"],"names":["form","feedbackFormStateKey","defaultFormData","formData","onFormUpdated","target","onSubmit","event","throttle"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAuB,sBAEvBC,EAAkB,CACtB,MAAO,GACP,QAAS,EACX,EAEMC,EAAW,CACf,GAAGD,EACH,GAAG,KAAK,MAAM,aAAa,QAAQD,CAAoB,CAAC,CAC1D,EAEAD,EAAK,SAAS,MAAM,MAAQG,EAAS,MACrCH,EAAK,SAAS,QAAQ,MAAQG,EAAS,QAEvC,MAAMC,EAAgB,CAAC,CAAE,OAAAC,KAAa,CACpCF,EAASE,EAAO,MAAQA,EAAO,MAE/B,aAAa,QAAQJ,EAAsB,KAAK,UAAUE,CAAQ,CAAC,CACrE,EAEMG,EAAWC,GAAS,CACxBA,EAAM,eAAc,EAEpB,QAAQ,IAAIJ,CAAQ,EAEpB,aAAa,WAAWF,CAAoB,EAC5CD,EAAK,MAAK,CACZ,EAEAA,EAAK,iBAAiB,QAASQ,EAASJ,EAAe,GAAG,CAAC,EAC3DJ,EAAK,iBAAiB,SAAUM,CAAQ"}
{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\nconst FEEDBACK_FORM_STATE_KEY = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\n\nconst defaultFormData = {\n  email: '',\n  message: '',\n};\n\nconst formData = {\n  ...defaultFormData,\n  ...JSON.parse(localStorage.getItem(FEEDBACK_FORM_STATE_KEY)),\n};\n\nform.elements.email.value = formData.email;\nform.elements.message.value = formData.message;\n\nconst onFormUpdated = ({ target }) => {\n  formData[target.name] = target.value;\n\n  localStorage.setItem(FEEDBACK_FORM_STATE_KEY, JSON.stringify(formData));\n}\n\nconst onSubmit = event => {\n  event.preventDefault();\n\n  console.log(formData);\n\n  localStorage.removeItem(FEEDBACK_FORM_STATE_KEY);\n  form.reset();\n}\n\nform.addEventListener('input', throttle(onFormUpdated, 500));\nform.addEventListener('submit', onSubmit);\n"],"names":["FEEDBACK_FORM_STATE_KEY","form","defaultFormData","formData","onFormUpdated","target","onSubmit","event","throttle"],"mappings":"wIAEA,MAAMA,EAA0B,sBAE1BC,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAkB,CACtB,MAAO,GACP,QAAS,EACX,EAEMC,EAAW,CACf,GAAGD,EACH,GAAG,KAAK,MAAM,aAAa,QAAQF,CAAuB,CAAC,CAC7D,EAEAC,EAAK,SAAS,MAAM,MAAQE,EAAS,MACrCF,EAAK,SAAS,QAAQ,MAAQE,EAAS,QAEvC,MAAMC,EAAgB,CAAC,CAAE,OAAAC,KAAa,CACpCF,EAASE,EAAO,MAAQA,EAAO,MAE/B,aAAa,QAAQL,EAAyB,KAAK,UAAUG,CAAQ,CAAC,CACxE,EAEMG,EAAWC,GAAS,CACxBA,EAAM,eAAc,EAEpB,QAAQ,IAAIJ,CAAQ,EAEpB,aAAa,WAAWH,CAAuB,EAC/CC,EAAK,MAAK,CACZ,EAEAA,EAAK,iBAAiB,QAASO,EAASJ,EAAe,GAAG,CAAC,EAC3DH,EAAK,iBAAiB,SAAUK,CAAQ"}